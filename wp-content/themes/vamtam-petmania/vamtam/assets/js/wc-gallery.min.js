((e,p)=>{document.addEventListener("DOMContentLoaded",function(){{let c=document.querySelector(".woocommerce-product-gallery");if(c){var t=e(c).closest(".elementor-widget-woocommerce-product-images.vamtam-has-dot-nav-on-mobile"),t=p.isMobileBrowser&&p.isSmallDeviceWidth()&&t.length;if(!t){let o=!0;var t=new MutationObserver(e=>{for(var t of e)"attributes"===t.type&&"class"===t.attributeName&&t.target.matches("img.flex-active")&&(o?o=!1:t.target.scrollIntoView({block:"nearest",inline:"nearest",behavior:"smooth"}))}),r=new MutationObserver(e=>{for(var t of e)if("childList"===t.type&&"addedNodes"in t)for(var o of t.addedNodes)o.matches(".flex-control-thumbs")&&p.waitForLoad(v)});let a,e,s,n,l=getComputedStyle(c).getPropertyValue("--vamtam-single-product-vertical-thumbs")||4,i=document.createElement("div"),d=(i.classList.add("vamtam-product-gallery-thumbs-prev"),i.addEventListener("click",()=>{var e=a.scrollTop-s;m(e),a.scrollTo({top:e,behavior:"smooth"})}),document.createElement("div"));function m(e){i.classList.toggle("hidden",e<=0),d.classList.toggle("hidden",e+s>=n)}function u(){requestAnimationFrame(()=>{m(e=a.scrollTop)})}function v(){requestAnimationFrame(()=>{a=c.querySelector(".flex-control-thumbs"),e=a.scrollTop,s=a.offsetHeight,n=a.scrollHeight,a.childElementCount<=l&&(i.style.display="none",d.style.display="none"),a.classList.add("vamtam-thumbs-loaded"),m(e),a.addEventListener("scroll",p.debounce(u,100),{passive:!0}),c.append(i,d),a.addEventListener("touchstart",e=>{e.stopPropagation()});let t=!1,o=e=>{t&&(e.preventDefault(),e.stopPropagation(),t=!1)},r=(a.querySelectorAll("img, a").forEach(e=>{e.addEventListener("click",o),e.addEventListener("touchend",o),e.addEventListener("keyup",o)}),function(e){e.stopPropagation(),e.preventDefault(),a.removeEventListener("touchend",r)});a.addEventListener("touchmove",e=>{e.stopPropagation(),t=!0,a.addEventListener("touchend",r)})})}d.classList.add("vamtam-product-gallery-thumbs-next"),d.addEventListener("click",()=>{var e=a.scrollTop+s;m(e),a.scrollTo({top:e,behavior:"smooth"})}),t.observe(c,{attributes:!0,subtree:!0}),document.querySelector(".flex-control-thumbs")?p.waitForLoad(v):r.observe(c,{childList:!0,subtree:!0})}}}})})(jQuery,window.VAMTAM);